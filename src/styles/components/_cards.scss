// ════════════════════════════════════════════════════════════════════════════
// CARDS - SOFICRAFT
// ════════════════════════════════════════════════════════════════════════════
// Styles des cards (cartes produits, etc.)

@use '../abstracts/variables' as *;
@use '../abstracts/mixins' as *;

// ════════════════════════════════════════════════════════════════════════════
// BASE CARD
// ════════════════════════════════════════════════════════════════════════════

.card {
  display: flex;
  flex-direction: column;
  background-color: $color-neutral-light;
  border-radius: $radius-lg;
  overflow: hidden;
  @include shadow-sm;
  @include transition(all);

  &:hover {
    @include shadow-lg;
    transform: translateY(-4px);
  }

  &__image {
    position: relative;
    width: 100%;
    @include aspect-ratio(4, 3);
    overflow: hidden;

    img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      @include transition(transform, $duration-slow);
    }

    &:hover img {
      transform: scale(1.05);
    }
  }

  &__badge {
    position: absolute;
    top: $space-md;
    right: $space-md;
    padding: $space-xs $space-md;
    background-color: $color-primary-darker;
    color: $color-neutral-light;
    font-size: $fs-xs;
    font-weight: $fw-semibold;
    text-transform: uppercase;
    letter-spacing: $ls-wide;
    border-radius: $radius-full;
  }

  &__content {
    padding: $space-lg;
    flex: 1;
    display: flex;
    flex-direction: column;
  }

  &__header {
    margin-bottom: $space-md;
  }

  &__title {
    font-family: $font-secondary;
    font-size: $fs-xl;
    font-weight: $fw-bold;
    color: $color-neutral-dark;
    margin-bottom: $space-sm;
    line-height: $lh-tight;
  }

  &__subtitle {
    font-size: $fs-sm;
    color: $color-primary-dark;
    font-weight: $fw-medium;
    text-transform: uppercase;
    letter-spacing: $ls-wide;
  }

  &__description {
    font-size: $fs-base;
    color: rgba($color-neutral-dark, 0.8);
    line-height: $lh-relaxed;
    margin-bottom: $space-lg;
    flex: 1;
  }

  &__footer {
    @include flex-between;
    padding-top: $space-md;
    border-top: 1px solid rgba($color-neutral-dark, 0.1);
  }

  &__price {
    font-size: $fs-xl;
    font-weight: $fw-bold;
    color: $color-primary-darker;
  }

  &__actions {
    display: flex;
    gap: $space-sm;
  }
}

// ════════════════════════════════════════════════════════════════════════════
// CARD VARIANTS
// ════════════════════════════════════════════════════════════════════════════

.card--horizontal {
  @include respond-to('md') {
    flex-direction: row;

    .card__image {
      width: 40%;
      height: auto;
    }

    .card__content {
      width: 60%;
    }
  }
}

.card--minimal {
  background-color: transparent;
  box-shadow: none;

  &:hover {
    box-shadow: none;
    transform: none;
  }

  .card__content {
    padding: $space-md 0;
  }
}

.card--featured {
  border: 2px solid $color-primary-dark;

  .card__title {
    color: $color-primary-darker;
  }
}

// ════════════════════════════════════════════════════════════════════════════
// CARD GRID
// ════════════════════════════════════════════════════════════════════════════

.card-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: $space-xl;

  @include respond-to('sm') {
    grid-template-columns: repeat(2, 1fr);
  }

  @include respond-to('lg') {
    grid-template-columns: repeat(3, 1fr);
  }

  &--two-cols {
    @include respond-to('md') {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  &--four-cols {
    @include respond-to('xl') {
      grid-template-columns: repeat(4, 1fr);
    }
  }
}

// ════════════════════════════════════════════════════════════════════════════
// LOADING STATE
// ════════════════════════════════════════════════════════════════════════════

.card--loading {
  pointer-events: none;

  .card__image,
  .card__title,
  .card__description,
  .card__price {
    background: linear-gradient(
      90deg,
      rgba($color-neutral-dark, 0.05) 25%,
      rgba($color-neutral-dark, 0.1) 50%,
      rgba($color-neutral-dark, 0.05) 75%
    );
    background-size: 200% 100%;
    animation: loading 1.5s ease-in-out infinite;
    border-radius: $radius-sm;
    color: transparent;
  }
}

@keyframes loading {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}
