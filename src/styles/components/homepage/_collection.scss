// ============================================================
// SECTION COLLECTIONS — SOFICRAFT
// 5 cartes collections avec hover overlay
// Mobile-first : 1 col → 2 col tablette → layout custom desktop
// Chemin : styles/components/homepage/_collections.scss
// ============================================================

@use "sass:color";
@use "../../abstracts/variables" as *;
@use "../../abstracts/mixins" as *;

// ----------------------------------------------------------
// SECTION WRAPPER
// ----------------------------------------------------------
.collections {
    position: relative;
    width: 100%;
    background-color: $color-neutral-dark; // Noir Profond #1A1A1A
    padding-block: $space-3xl;
    overflow: hidden;

    @include respond-to("md") {
        padding-block: $space-4xl;
    }

    @include respond-to("lg") {
        padding-block: 7rem;
    }

    // ----------------------------------------------------------
    // HEADER — Titre centré + intro
    // ----------------------------------------------------------
    &__header {
        @include container;
        text-align: center;
        margin-bottom: $space-2xl;

        @include respond-to("md") {
            margin-bottom: $space-3xl;
        }
    }

    &__pretitle {
        display: inline-block;
        font-family: $font-primary;
        font-size: $fs-sm;
        font-weight: $fw-semibold;
        color: $color-primary-light; // Beige Clair #D4AF9F
        letter-spacing: 0.2em;
        text-transform: uppercase;
        margin-bottom: $space-md;

        @include respond-to("md") {
            font-size: $fs-base;
        }
    }

    &__title {
        font-family: $font-secondary; // Imperial Script
        font-weight: $fw-normal;
        color: $color-neutral-light; // Blanc Pur #FFFFFF
        line-height: $lh-tight;
        margin: 0 0 $space-lg 0;

        font-size: clamp(1.8rem, 5vw, 2.2rem);

        @include respond-to("md") {
            font-size: clamp(2.2rem, 4vw, 3rem);
        }

        @include respond-to("lg") {
            font-size: clamp(2.5rem, 3vw, 3.2rem);
        }
    }

    &__intro {
        font-family: $font-primary;
        font-size: $fs-md;
        font-weight: $fw-normal;
        font-style: italic;
        color: rgba($color-neutral-light, 0.7);
        line-height: $lh-relaxed;
        max-width: 650px;
        margin: 0 auto;

        @include respond-to("md") {
            font-size: $fs-lg;
            line-height: $lh-loose;
        }
    }

    // ----------------------------------------------------------
    // GRILLE — Responsive cards grid
    // ----------------------------------------------------------
    &__grid {
        @include container;
        display: grid;
        grid-template-columns: 1fr;
        gap: $space-xl;

        // Tablette : 2 colonnes
        @include respond-to("sm") {
            grid-template-columns: repeat(2, 1fr);
            gap: $space-lg;
        }

        // Desktop : layout 3-2 (3 en haut, 2 centrées en bas)
        @include respond-to("lg") {
            grid-template-columns: repeat(3, 1fr);
            gap: $space-xl;
        }
    }

    // ----------------------------------------------------------
    // CARD — Composant carte collection
    // ----------------------------------------------------------
    &__card {
        position: relative;
        border-radius: $radius-sm;
        overflow: hidden;
        background-color: rgba($color-neutral-light, 0.04);
        border: 1px solid rgba($color-neutral-light, 0.06);
        transition:
            border-color $transition-normal,
            transform $transition-normal;

        &:hover {
            border-color: rgba($color-primary-light, 0.2);
            transform: translateY(-4px);
        }

        // Les 2 dernières cartes centrées sur desktop (layout 3-2)
        @include respond-to("lg") {
            &--boucles {
                grid-column: 1 / 2;
                justify-self: end;
                max-width: 380px;
                width: 100%;
            }

            &--sur-mesure {
                grid-column: 2 / 3;
                max-width: 380px;
                width: 100%;
            }
        }
    }

    // ---- Image container ----
    &__card-image {
        position: relative;
        width: 100%;
        aspect-ratio: 4 / 3;
        overflow: hidden;

        @include respond-to("md") {
            aspect-ratio: 3 / 2;
        }
    }

    &__card-image-inner {
        width: 100%;
        height: 100%;
        will-change: transform; // Pour GSAP hover scale

        img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    }

    // ---- Placeholder (en attendant images) ----
    &__card-placeholder {
        width: 100%;
        height: 100%;
        @include flex-center;

        .collections__card--bagues & {
            background: linear-gradient(
                135deg,
                color.adjust($color-primary-dark, $lightness: -15%) 0%,
                $color-primary-dark 100%
            );
        }

        .collections__card--colliers & {
            background: linear-gradient(
                135deg,
                color.adjust($color-secondary-green, $lightness: -10%) 0%,
                $color-primary-darker 100%
            );
        }

        .collections__card--bracelets & {
            background: linear-gradient(
                135deg,
                $color-primary-dark 0%,
                color.adjust($color-primary-light, $lightness: -10%) 100%
            );
        }

        .collections__card--boucles & {
            background: linear-gradient(
                135deg,
                color.adjust($color-primary-darker, $lightness: -5%) 0%,
                $color-secondary-green 100%
            );
        }

        .collections__card--sur-mesure & {
            background: linear-gradient(
                135deg,
                $color-secondary-green 0%,
                $color-primary-dark 100%
            );
        }
    }

    &__card-ornament {
        font-size: 2.5rem;
        color: rgba($color-neutral-light, 0.2);
        transition:
            transform $transition-slow,
            opacity $transition-normal;

        .collections__card:hover & {
            transform: scale(1.2) rotate(15deg);
            opacity: 0.4;
        }
    }

    // ---- Hover overlay ----
    &__card-overlay {
        position: absolute;
        inset: 0;
        background-color: rgba(
            $color-primary-dark,
            0.75
        ); // Marron Moyen semi-transparent
        @include flex-center;
        opacity: 0;
        transition: opacity $transition-normal;

        .collections__card:hover & {
            opacity: 1;
        }
    }

    &__card-overlay-text {
        font-family: $font-primary;
        font-size: $fs-base;
        font-weight: $fw-semibold;
        color: $color-neutral-light;
        letter-spacing: 0.1em;
        text-transform: uppercase;
        transform: translateY(10px);
        transition: transform $transition-normal;

        .collections__card:hover & {
            transform: translateY(0);
        }
    }

    // ---- Contenu texte ----
    &__card-content {
        padding: $space-lg;

        @include respond-to("md") {
            padding: $space-lg $space-xl;
        }
    }

    &__card-title {
        font-family: $font-secondary; // Imperial Script
        font-size: clamp(1.4rem, 3vw, 1.8rem);
        font-weight: $fw-normal;
        color: $color-neutral-light;
        margin: 0 0 $space-sm 0;
    }

    &__card-description {
        font-family: $font-primary;
        font-size: $fs-sm;
        font-weight: $fw-normal;
        color: rgba($color-neutral-light, 0.65);
        line-height: $lh-relaxed;
        margin: 0 0 $space-md 0;

        @include respond-to("md") {
            font-size: $fs-base;
            line-height: $lh-relaxed;
        }
    }

    // ---- CTA lien ----
    &__card-cta {
        display: inline-flex;
        align-items: center;
        gap: $space-xs;
        font-family: $font-primary;
        font-size: $fs-sm;
        font-weight: $fw-semibold;
        color: $color-primary-light; // Beige Clair
        text-decoration: none;
        letter-spacing: $ls-wide;
        text-transform: uppercase;
        transition:
            color $transition-normal,
            gap $transition-normal;

        &:hover {
            color: $color-neutral-light;
            gap: $space-sm;

            svg {
                transform: translateX(3px);
            }
        }

        svg {
            transition: transform $transition-normal;
        }
    }
}
